<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Task List</title>
        <link rel="stylesheet" href="/style.css" />
        <script src="/script.js" defer></script>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
        />
    </head>
    <body>
        <!-- Mensagens de sucesso ou fracasso-->
        <% if (message != "") { %>
            <%- include("./components/message"), {message: message, type: type}%>
        <% } %>
        <!--FormulÃ¡rio adicionar/editar tarefas--> 
        <header> 
            <% if (task == null) {%>
                <%- include("./components/taskForm", {formTitle: "TO DO LIST", action:"create", placeholder: "Insira uma nova tarefa", value: "", btnId: "add-button", actionBtn: "Adicionar"})%>

            <%} else { %>
                <%- include("./components/taskForm", {formTitle: "UPDATE TASK", action:`update/${task._id}`, placeholder: "Insira um novo valor", value: task.task, btnId: "update-button", actionBtn: "Atualizar"}) %>
            <% } %>
        </header>
        <section id="task-list">
            <!--Carregar lista de tarefas-->
            <% if (taskList.length > 0) { %>
                <%- include("./components/tasksDisplay", {list: taskList}) %>

            <% } else { %>
                <h3>Nenhuma tarefa adicionada.</h3>
            <% } %>
        </section>
        <% if(taskDelete != null) {%>
            <%- include('./components/deleteModal') %>
        <% } %>
    </body>
</html>
